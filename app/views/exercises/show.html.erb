<% content_for :title, @exercise.name %>

<div class="w-full max-w-3xl mx-auto">

  <!-- Header -->
  <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between gap-3 mb-6">
    <div>
      <%= render 'shared/header', instance: @exercise %>

      <!-- Labels -->
      <div class="mt-3 flex items-center gap-2 flex-wrap">
        <span class="inline-flex items-center rounded-full bg-gray-100 text-gray-700 px-3 py-1 text-sm font-semibold">
          <%= @exercise.muscle_group.humanize %>
        </span>

        <% if @exercise.is_system_exercise %>
          <span class="inline-flex items-center rounded-full bg-yellow-100 text-yellow-900 px-3 py-1 text-sm font-semibold">
            System
          </span>
        <% else %>
          <span class="inline-flex items-center rounded-full bg-green-100 text-green-800 px-3 py-1 text-sm font-semibold">
            Custom
          </span>
        <% end %>
      </div>
    </div>

    <!-- Actions (desktop) -->
    <%= render 'shared/desktop_actions', show_fields: user_signed_in? && !@exercise.is_system_exercise, index_path: exercises_path, edit_path: edit_exercise_path(@exercise), instance: @exercise %>
  </div>

  <!-- Content Card -->
  <div class="bg-white rounded-2xl shadow-sm border border-yellow-100 p-6">
    <%= render @exercise %>
  </div>

  <!-- Actions (mobile) -->
  <%= render 'shared/mobile_actions', show_fields: user_signed_in? && !@exercise.is_system_exercise, index_path: exercises_path, edit_path: edit_exercise_path(@exercise), instance: @exercise %>
</div>